{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  const markup = createMarkup(images);\n  gallery.innerHTML = markup;\n  lightbox.refresh();\n}\n\nfunction createMarkup(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n        <a class=\"gallery-item\" href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"200\" />\n          <div class=\"gallery-info\">\n            <ul class=\"info-list\">\n              <li><h3>Likes</h3><p>${likes}</p></li>\n              <li><h3>Views</h3><p>${views}</p></li>\n              <li><h3>Comments</h3><p>${comments}</p></li>\n              <li><h3>Downloads</h3><p>${downloads}</p></li>\n            </ul>\n          </div>\n        </a>\n      `;\n      }\n    )\n    .join('');\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader?.classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n  loader?.classList.add('is-hidden');\n}\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { createGallery, showLoader, hideLoader } from './render-functions';\n\nconst API_KEY = '51403222-4fbdc3af82d89be9b055ca0a4';\nconst URL = 'https://pixabay.com/api/';\n\nexport function getImagesByQuery(query) {\n  showLoader();\n\n  return axios\n    .get(URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(res => {\n      hideLoader();\n      const images = res.data.hits;\n\n      if (images.length === 0) {\n        document.querySelector('.gallery').innerHTML = '';\n        iziToast.error({\n          title: 'Sorry',\n          message: 'There are no images matching your search query. Please try again!',\n          position: 'topRight',\n          timeout: 5000,\n          color: 'red',\n        });\n        return;\n      }\n\n      createGallery(images);\n      return images;\n    })\n    .catch(error => {\n      hideLoader();\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again later.',\n        position: 'topRight',\n        timeout: 5000,\n        color: 'red',\n      });\n      console.error(error);\n      throw error;\n    });\n}\n","import { getImagesByQuery } from './js/pixabay-api';\nimport { clearGallery } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const input = form.elements['search-text'].value.trim();\n\n  if (input !== '') {\n    clearGallery();\n    getImagesByQuery(input);\n  } else {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search term!',\n      position: 'topRight',\n      timeout: 3000,\n      color: 'orange',\n    });\n  }\n});\n"],"names":["gallery","loader","lightbox","SimpleLightbox","createGallery","images","markup","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","API_KEY","URL","getImagesByQuery","query","axios","res","iziToast","error","form","e","input"],"mappings":"owBAGA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASC,EAAaF,CAAM,EAClCL,EAAQ,UAAYM,EACpBJ,EAAS,QAAO,CAClB,CAEA,SAASK,EAAaF,EAAQ,CAC5B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,wCACyBL,CAAa;AAAA,sBAC/BD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,qCAGXC,CAAK;AAAA,qCACLC,CAAK;AAAA,wCACFC,CAAQ;AAAA,yCACPC,CAAS;AAAA;AAAA;AAAA;AAAA,OAM7C,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,GAAe,CAC7Bf,EAAQ,UAAY,EACtB,CAEO,SAASgB,GAAa,CAC3Bf,GAAA,MAAAA,EAAQ,UAAU,OAAO,YAC3B,CAEO,SAASgB,GAAa,CAC3BhB,GAAA,MAAAA,EAAQ,UAAU,IAAI,YACxB,CCpDA,MAAMiB,EAAU,qCACVC,EAAM,2BAEL,SAASC,EAAiBC,EAAO,CACtC,OAAAL,IAEOM,EACJ,IAAIH,EAAK,CACR,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EACA,KAAKE,GAAO,CACXN,IACA,MAAMZ,EAASkB,EAAI,KAAK,KAExB,GAAIlB,EAAO,SAAW,EAAG,CACvB,SAAS,cAAc,UAAU,EAAE,UAAY,GAC/CmB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oEACT,SAAU,WACV,QAAS,IACT,MAAO,KACjB,CAAS,EACD,MACD,CAED,OAAApB,EAAcC,CAAM,EACbA,CACb,CAAK,EACA,MAAMoB,GAAS,CACd,MAAAR,IACAO,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,WACV,QAAS,IACT,MAAO,KACf,CAAO,EACD,QAAQ,MAAMC,CAAK,EACbA,CACZ,CAAK,CACL,CC/CA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAWC,GAAM,CACrCA,EAAE,eAAc,EAEhB,MAAMC,EAAQF,EAAK,SAAS,aAAa,EAAE,MAAM,OAE7CE,IAAU,IACZb,IACAK,EAAiBQ,CAAK,GAEtBJ,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACT,SAAU,WACV,QAAS,IACT,MAAO,QACb,CAAK,CAEL,CAAC"}