{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nimport axios from 'axios';\n\nconst API_KEY = '51403222-4fbdc3af82d89be9b055ca0a4';\nconst URL = 'https://pixabay.com/api/';\n\nexport async function getImagesByQuery(query) {\n  try {\n    const response = await axios.get(URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    });\n\n    return response.data.hits;\n  } catch (error) {\n    throw new Error('Failed to fetch images');\n  }\n}\n","\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox = null;\n\nexport function clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  if (gallery) gallery.innerHTML = '';\n}\n\nexport function createGallery(images) {\n  const gallery = document.querySelector('.gallery');\n\n  const markup = images.map(({ webformatURL, largeImageURL, tags }) => {\n    return `\n      <li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n      </li>`;\n  }).join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery a');\n  }\n}\n\nexport function showLoader() {\n  document.querySelector('.loader')?.classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n  document.querySelector('.loader')?.classList.add('is-hidden');\n}\n","// main.js\nimport { getImagesByQuery } from './js/pixabay-api';\nimport { clearGallery, createGallery, showLoader, hideLoader } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', async (e) => {\n  e.preventDefault();\n\n  const input = form.elements['search-text'].value.trim();\n\n  if (!input) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search term!',\n      position: 'topRight',\n      timeout: 3000,\n      color: 'orange',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  try {\n    const images = await getImagesByQuery(input);\n    hideLoader();\n\n    if (images.length === 0) {\n      iziToast.error({\n        title: 'Sorry',\n        message: 'There are no images matching your search query. Please try again!',\n        position: 'topRight',\n        timeout: 5000,\n        color: 'red',\n      });\n    } else {\n      createGallery(images);\n      iziToast.success({\n        title: 'Success',\n        message: `Found ${images.length} images!`,\n        position: 'topRight',\n        timeout: 3000,\n        color: 'green',\n      });\n    }\n  } catch (error) {\n    hideLoader();\n    iziToast.error({\n      title: 'Error',\n      message: 'Something went wrong. Please try again later.',\n      position: 'topRight',\n      timeout: 5000,\n      color: 'red',\n    });\n    console.error(error);\n  }\n});\n"],"names":["API_KEY","URL","getImagesByQuery","query","axios","lightbox","clearGallery","gallery","createGallery","images","markup","webformatURL","largeImageURL","tags","SimpleLightbox","showLoader","_a","hideLoader","form","e","input","iziToast","error"],"mappings":"owBAGA,MAAMA,EAAU,qCACVC,EAAM,2BAEL,eAAeC,EAAiBC,EAAO,CAC5C,GAAI,CAWF,OAViB,MAAMC,EAAM,IAAIH,EAAK,CACpC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,GAEe,KAAK,IACtB,MAAe,CACd,MAAM,IAAI,MAAM,wBAAwB,CACzC,CACH,CClBA,IAAIE,EAAW,KAER,SAASC,GAAe,CAC7B,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC7CA,IAASA,EAAQ,UAAY,GACnC,CAEO,SAASC,EAAcC,EAAQ,CACpC,MAAMF,EAAU,SAAS,cAAc,UAAU,EAE3CG,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,KACjD;AAAA;AAAA,mBAEQD,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA,YAG7C,EAAE,KAAK,EAAE,EAEVN,EAAQ,mBAAmB,YAAaG,CAAM,EAE1CL,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIS,EAAe,YAAY,CAE9C,CAEO,SAASC,GAAa,QAC3BC,EAAA,SAAS,cAAc,SAAS,IAAhC,MAAAA,EAAmC,UAAU,OAAO,YACtD,CAEO,SAASC,GAAa,QAC3BD,EAAA,SAAS,cAAc,SAAS,IAAhC,MAAAA,EAAmC,UAAU,IAAI,YACnD,CChCA,MAAME,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAU,MAAOC,GAAM,CAC3CA,EAAE,eAAc,EAEhB,MAAMC,EAAQF,EAAK,SAAS,aAAa,EAAE,MAAM,OAEjD,GAAI,CAACE,EAAO,CACVC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACT,SAAU,WACV,QAAS,IACT,MAAO,QACb,CAAK,EACD,MACD,CAEDf,IACAS,IAEA,GAAI,CACF,MAAMN,EAAS,MAAMP,EAAiBkB,CAAK,EAC3CH,IAEIR,EAAO,SAAW,EACpBY,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oEACT,SAAU,WACV,QAAS,IACT,MAAO,KACf,CAAO,GAEDb,EAAcC,CAAM,EACpBY,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,SAASZ,EAAO,MAAM,WAC/B,SAAU,WACV,QAAS,IACT,MAAO,OACf,CAAO,EAEJ,OAAQa,EAAO,CACdL,IACAI,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,WACV,QAAS,IACT,MAAO,KACb,CAAK,EACD,QAAQ,MAAMC,CAAK,CACpB,CACH,CAAC"}